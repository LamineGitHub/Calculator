let calculatorSection=document.getElementById("calculator"),convertSection=document.getElementById("convert"),iconCalculator=document.getElementById("iconCalculator"),iconBack=document.getElementById("iconBack"),selectCountryFrom=document.getElementById("selectCountryFrom"),selectCountryTo=document.getElementById("selectCountryTo"),listCountry=document.getElementById("listCountry"),toggleSection=(e,n,a,t)=>{e.classList.add("calcBoxShadow"),setTimeout(()=>{e.classList.add(a),e.classList.remove(n),convertSection.classList.toggle("opacity-10"),convertSection.classList.toggle("-translate-x-6")},t)};function toggleListCountry(){listCountry.classList.toggle("right-0"),listCountry.classList.toggle("right-[100%]")}iconCalculator.addEventListener("click",()=>{toggleSection(calculatorSection,"right-0","right-[101%]",500)}),iconBack.addEventListener("click",()=>{toggleSection(calculatorSection,"right-[101%]","right-0",0),setTimeout(()=>{calculatorSection.classList.remove("calcBoxShadow")},500)}),selectCountryFrom.addEventListener("click",toggleListCountry),selectCountryTo.addEventListener("click",toggleListCountry);const countries=[{name:"Euro",symbol_native:"€",code:"EUR"},{name:"US Dollar",symbol_native:"$",code:"USD"},{name:"Canadian Dollar",symbol_native:"$",code:"CAD"},{name:"United Arab Emirates Dirham",symbol_native:"د.إ.‏",code:"AED"},{name:"Afghan Afghani",symbol_native:"؋",code:"AFN"},{name:"Albanian Lek",symbol_native:"Lek",code:"ALL"},{name:"Armenian Dram",symbol_native:"դր.",code:"AMD"},{name:"Netherlands Antillean guilder",symbol_native:"ƒ",code:"ANG"},{name:"Angolan Kwanza",symbol_native:"Kz",code:"AOA"},{name:"Argentine Peso",symbol_native:"$",code:"ARS"},{name:"Australian Dollar",symbol_native:"$",code:"AUD"},{name:"Aruban Florin",symbol_native:"Afl",code:"AWG"},{name:"Azerbaijani Manat",symbol_native:"ман.",code:"AZN"},{name:"Bosnia-Herzegovina Mark",symbol_native:"KM",code:"BAM"},{name:"Bangladeshi Taka",symbol_native:"৳",code:"BDT"},{name:"Bulgarian Lev",symbol_native:"лв.",code:"BGN"},{name:"Bahraini Dinar",symbol_native:"د.ب.‏",code:"BHD"},{name:"Burundian Franc",symbol_native:"FBu",code:"BIF"},{name:"Brunei Dollar",symbol_native:"$",code:"BND"},{name:"Barbadian dollar",symbol_native:"$",code:"BBD"},{name:"Bahamian Dollar",symbol_native:"$",code:"BSD"},{name:"Bermudian Dollar",symbol_native:"$",code:"BMD"},{name:"Bolivian Boliviano",symbol_native:"Bs",code:"BOB"},{name:"Brazilian Real",symbol_native:"R$",code:"BRL"},{name:"Bhutanese Ngultrum",symbol_native:"Nu.",code:"BTN"},{name:"Botswanan Pula",symbol_native:"P",code:"BWP"},{name:"Belarusian Ruble",symbol_native:"BYR",code:"BYR"},{name:"Belize Dollar",symbol_native:"$",code:"BZD"},{name:"Congolese Franc",symbol_native:"FrCD",code:"CDF"},{name:"Swiss Franc",symbol_native:"CHF",code:"CHF"},{name:"Chilean Peso",symbol_native:"$",code:"CLP"},{name:"Cuban convertible peso",symbol_native:"$",code:"CUC"},{name:"Chinese Yuan",symbol_native:"CN\xa5",code:"CNY"},{name:"Colombian Peso",symbol_native:"$",code:"COP"},{name:"Cuban peso",symbol_native:"$",code:"CUP"},{name:"Costa Rican Col\xf3n",symbol_native:"₡",code:"CRC"},{name:"Cape Verdean Escudo",symbol_native:"CV$",code:"CVE"},{name:"Czech Republic Koruna",symbol_native:"Kč",code:"CZK"},{name:"Djiboutian Franc",symbol_native:"Fdj",code:"DJF"},{name:"Danish Krone",symbol_native:"kr",code:"DKK"},{name:"Dominican Peso",symbol_native:"RD$",code:"DOP"},{name:"Algerian Dinar",symbol_native:"د.ج.‏",code:"DZD"},{name:"Estonian Kroon",symbol_native:"kr",code:"EEK"},{name:"Egyptian Pound",symbol_native:"ج.م.‏",code:"EGP"},{name:"Eritrean Nakfa",symbol_native:"Nfk",code:"ERN"},{name:"Ethiopian Birr",symbol_native:"Br",code:"ETB"},{name:"Falkland Island Pound",symbol_native:"\xa3",code:"FKP"},{name:"Fijian dollar",symbol_native:"$",code:"FJD"},{name:"British Pound Sterling",symbol_native:"\xa3",code:"GBP"},{name:"Georgian Lari",symbol_native:"GEL",code:"GEL"},{name:"Ghanaian Cedi",symbol_native:"GH₵",code:"GHS"},{name:"Gibraltar Pound",symbol_native:"\xa3",code:"GIP"},{name:"Guinean Franc",symbol_native:"FG",code:"GNF"},{name:"Guatemalan Quetzal",symbol_native:"Q",code:"GTQ"},{name:"Guyanese dollar",symbol_native:"$",code:"GYD"},{name:"Gambian Dalasi",symbol_native:"D",code:"GMD"},{name:"Guernsey Pound",symbol_native:"\xa3",code:"GGP"},{name:"Hong Kong Dollar",symbol_native:"$",code:"HKD"},{name:"Honduran Lempira",symbol_native:"L",code:"HNL"},{name:"Croatian Kuna",symbol_native:"kn",code:"HRK"},{name:"Hungarian Forint",symbol_native:"Ft",code:"HUF"},{name:"Haitian Gourde",symbol_native:"G",code:"HTG"},{name:"Indonesian Rupiah",symbol_native:"Rp",code:"IDR"},{name:"Israeli New Sheqel",symbol_native:"₪",code:"ILS"},{name:"Isle of Man Pound",symbol_native:"\xa3",code:"IMP"},{name:"Indian Rupee",symbol_native:"₹",code:"INR"},{name:"Iraqi Dinar",symbol_native:"د.ع.‏",code:"IQD"},{name:"Iranian Rial",symbol_native:"﷼",code:"IRR"},{name:"Icelandic Kr\xf3na",symbol_native:"kr",code:"ISK"},{name:"Jamaican Dollar",symbol_native:"$",code:"JMD"},{name:"Jordanian Dinar",symbol_native:"د.أ.‏",code:"JOD"},{name:"Japanese Yen",symbol_native:"￥",code:"JPY"},{name:"Kyrgyzstani som",symbol_native:"с",code:"KGS"},{name:"Cambodian Riel",symbol_native:"៛",code:"KHR"},{name:"Comorian Franc",symbol_native:"FC",code:"KMF"},{name:"North Korean Won",symbol_native:"₩",code:"KPW"},{name:"South Korean Won",symbol_native:"₩",code:"KRW"},{name:"Kuwaiti Dinar",symbol_native:"د.ك.‏",code:"KWD"},{name:"Cayman Islands dollar",symbol_native:"$‏",code:"KYD"},{name:"Kazakhstani Tenge",symbol_native:"тңг.",code:"KZT"},{name:"Kenyan Shilling",symbol_native:"Ksh",code:"KES"},{name:"Lao kip",symbol_native:"₭‏",code:"LAK"},{name:"Lebanese Pound",symbol_native:"ل.ل.‏",code:"LBP"},{name:"Sri Lankan Rupee",symbol_native:"SL Re",code:"LKR"},{name:"Liberian Dollar",symbol_native:"$",code:"LRD"},{name:"Lithuanian Litas",symbol_native:"Lt",code:"LTL"},{name:"Basotho Loti",symbol_native:"L",code:"LSL"},{name:"Latvian Lats",symbol_native:"Ls",code:"LVL"},{name:"Libyan Dinar",symbol_native:"د.ل.‏",code:"LYD"},{name:"Moroccan Dirham",symbol_native:"د.م.‏",code:"MAD"},{name:"Moldovan Leu",symbol_native:"MDL",code:"MDL"},{name:"Malagasy Ariary",symbol_native:"MGA",code:"MGA"},{name:"Macedonian Denar",symbol_native:"MKD",code:"MKD"},{name:"Myanma Kyat",symbol_native:"K",code:"MMK"},{name:"Macanese Pataca",symbol_native:"MOP$",code:"MOP"},{name:"Mauritian Rupee",symbol_native:"MURs",code:"MUR"},{name:"Malawian Kwacha",symbol_native:"MK",code:"MWK"},{name:"Maldivian Rufiyaa",symbol_native:"ރ",code:"MVR"},{name:"Mexican Peso",symbol_native:"$",code:"MXN"},{name:"Malaysian Ringgit",symbol_native:"RM",code:"MYR"},{name:"Mozambican Metical",symbol_native:"MTn",code:"MZN"},{name:"Namibian Dollar",symbol_native:"N$",code:"NAD"},{name:"Nigerian Naira",symbol_native:"₦",code:"NGN"},{name:"Nicaraguan C\xf3rdoba",symbol_native:"C$",code:"NIO"},{name:"Norwegian Krone",symbol_native:"kr",code:"NOK"},{name:"Nepalese Rupee",symbol_native:"नेरू",code:"NPR"},{name:"New Zealand Dollar",symbol_native:"$",code:"NZD"},{name:"Omani Rial",symbol_native:"ر.ع.‏",code:"OMR"},{name:"Panamanian Balboa",symbol_native:"B/.",code:"PAB"},{name:"Peruvian Nuevo Sol",symbol_native:"S/.",code:"PEN"},{name:"Philippine Peso",symbol_native:"₱",code:"PHP"},{name:"Pakistani Rupee",symbol_native:"₨",code:"PKR"},{name:"Papua New Guinean Kina",symbol_native:"K",code:"PGK"},{name:"Polish Zloty",symbol_native:"zł",code:"PLN"},{name:"Paraguayan Guarani",symbol_native:"₲",code:"PYG"},{name:"Qatari Rial",symbol_native:"ر.ق.‏",code:"QAR"},{name:"Romanian Leu",symbol_native:"RON",code:"RON"},{name:"Serbian Dinar",symbol_native:"дин.",code:"RSD"},{name:"Russian Ruble",symbol_native:"руб.",code:"RUB"},{name:"Rwandan Franc",symbol_native:"FR",code:"RWF"},{name:"Saudi Riyal",symbol_native:"ر.س.‏",code:"SAR"},{name:"Seychellois Rupee",symbol_native:"₨",code:"SCR"},{name:"Samoan Tala",symbol_native:"$",code:"WST"},{name:"Solomon Islander Dollar",symbol_native:"$",code:"SBD"},{name:"Salvadoran Colon",symbol_native:"₡",code:"SVC"},{name:"Sudanese Pound",symbol_native:"SDG",code:"SDG"},{name:"Surinamese Dollar",symbol_native:"$",code:"SRD"},{name:"Swedish Krona",symbol_native:"kr",code:"SEK"},{name:"Singapore Dollar",symbol_native:"$",code:"SGD"},{name:"Sierra Leonean Leone",symbol_native:"Le",code:"SLL"},{name:"Somali Shilling",symbol_native:"Ssh",code:"SOS"},{name:"South Sudanese pound",symbol_native:"\xa3",code:"SSP"},{name:"Sao Tomean Dobra",symbol_native:"Db",code:"STN"},{name:"Saint Helenian Pound",symbol_native:"\xa3",code:"SHP"},{name:"Syrian Pound",symbol_native:"ل.س.‏",code:"SYP"},{name:"Swazi Lilangeni",symbol_native:"L‏",code:"SZL"},{name:"Thai Baht",symbol_native:"฿",code:"THB"},{name:"Tajikistani Somoni",symbol_native:"ЅМ",code:"TJS"},{name:"Tunisian Dinar",symbol_native:"د.ت.‏",code:"TND"},{name:"Tongan Paʻanga",symbol_native:"T$",code:"TOP"},{name:"Turkish Lira",symbol_native:"TL",code:"TRY"},{name:"Turkmenistani Manat",symbol_native:"",code:"TMT"},{name:"Trinidad and Tobago Dollar",symbol_native:"$",code:"TTD"},{name:"New Taiwan Dollar",symbol_native:"NT$",code:"TWD"},{name:"Jersey pound",symbol_native:"\xa3",code:"JEP"},{name:"Tanzanian Shilling",symbol_native:"TSh",code:"TZS"},{name:"Ukrainian Hryvnia",symbol_native:"₴",code:"UAH"},{name:"Ugandan Shilling",symbol_native:"USh",code:"UGX"},{name:"Mauritanian Ouguiya",symbol_native:"أوقية‎",code:"MRU"},{name:"Mongolian Tughrik",symbol_native:"₮",code:"MNT"},{name:"Uruguayan Peso",symbol_native:"$",code:"UYU"},{name:"Uzbekistan Som",symbol_native:"UZS",code:"UZS"},{name:"Venezuelan Bol\xedvar",symbol_native:"Bs.F.",code:"VEF"},{name:"Vietnamese Dong",symbol_native:"₫",code:"VND"},{name:"Ni-Vanuatu Vatu",symbol_native:"Vt",code:"VUV"},{name:"CFA Franc BEAC",symbol_native:"FCFA",code:"XAF"},{name:"East Caribbean Dollar",symbol_native:"$",code:"XCD"},{name:"CFA Franc BCEAO",symbol_native:"CFA",code:"XOF"},{name:"CFP franc",symbol_native:"Fr",code:"XPF"},{name:"Yemeni Rial",symbol_native:"ر.ي.‏",code:"YER"},{name:"South African Rand",symbol_native:"R",code:"ZAR"},{name:"Zambian Kwacha",symbol_native:"ZK",code:"ZMK"},{name:"Zimbabwean dollar",symbol_native:"$",code:"ZWL"},];let divList=document.getElementById("country"),search=document.getElementById("search"),selectFrom=document.getElementById("selectCountryFrom"),selectTo=document.getElementById("selectCountryTo"),codeFrom=selectFrom.firstElementChild,codeTo=selectTo.firstElementChild,selectedFromId="selectedFrom",selectedToId="selectedTo",selectFromOrTo={from:!0,to:!1};selectFrom.addEventListener("click",()=>{selectFromOrTo=!0}),selectTo.addEventListener("click",()=>{selectFromOrTo=!1});let createListCountry=e=>{let n=document.createElement("ul");n.setAttribute("id","ulListCountry");let a=e.map(e=>{let n=document.createElement("li");n.setAttribute("id",e.code);let a=document.createElement("span"),t=document.createElement("span");if(a.textContent=e.name,a.classList.add("inline-block","w-[240px]"),t.textContent=e.code,t.classList.add("inline-block","w-11"),n.classList.add("liStyle"),n.appendChild(t),n.appendChild(a),e.code===codeFrom.textContent){let o=document.createElement("span");o.innerHTML='<img src="./img/coche.svg" class="mb-1" width="20px">',o.setAttribute("id",selectedFromId),n.appendChild(o)}if(codeTo.textContent===e.code){let i=document.createElement("span");i.innerHTML='<img src="./img/coche.svg" class="mb-1" width="20px">',i.setAttribute("id",selectedToId),n.appendChild(i)}return n});n.append(...a),n.lastChild.classList.add("mb-16"),divList.appendChild(n)};createListCountry(countries),search.addEventListener("keyup",e=>{let n=e.target.value.toLowerCase(),a=countries.filter(e=>e.name.toLowerCase().startsWith(n)),t=document.getElementById("notFoundMsg");0===a.length&&n.length>0?t.classList.remove("hidden"):t.classList.add("hidden");let o=document.getElementById("ulListCountry").children;for(let i=0;i<o.length;i++){let c=o[i],l=c.getAttribute("id");a.some(e=>e.code===l)?c.style.display="block":c.style.display="none"}});let UpdateCountrySelect=(e,n)=>{if(e&&n){let a=document.createElement("span");a.setAttribute("id",n),a.innerHTML='<img src="./img/coche.svg" class="mb-1" width="20px">',document.getElementById(e).appendChild(a)}};function listItem(e){let n=document.querySelectorAll("li"),a=document.getElementById("ulListCountry").childNodes,t="";n.forEach(n=>{n.addEventListener("click",()=>{if(listCountry.classList.remove("right-0"),listCountry.classList.add("right-[100%]"),search.value="",a.forEach(e=>e.style.display="block"),t=n.id,selectFromOrTo){codeFrom.innerText=n.id;let o=e.find(e=>e.code===t),{code:i,name:c,symbol_native:l}=o;document.getElementById("unitySelect1").innerText=`${c} ${l}`,document.getElementById(selectedFromId).remove(),UpdateCountrySelect(i,selectedFromId)}else{codeTo.innerText=n.id;let s=e.find(e=>e.code===t),{code:m,name:r,symbol_native:d}=s;document.getElementById("unitySelect2").innerText=`${r} ${d}`,document.getElementById(selectedToId).remove(),UpdateCountrySelect(m,selectedToId)}getExchangeRate()})})}listItem(countries);let screenAcount=document.getElementById("ecran3"),convert=document.getElementById("convert"),convertBtn=document.getElementById("convertBtn"),buttonConvert=document.querySelectorAll("#convert button"),priceFrom=document.getElementById("priceFrom"),priceTo=document.getElementById("priceTo"),cpt=0,firstOne=!0,limiteAcountNumber=13,cptAcountNumber=0;function separateThousands(e){"number"!=typeof number&&(e=e.toString());let[n,a]=e.split("."),t=n.replace(/\B(?=(\d{3})+(?!\d))/g," ");return a?`${t}.${a}`:t}function clearAcount(){screenAcount.classList.add("text-slate-400"),cpt=0,cptAcountNumber=0,screenAcount.innerText="Enter Amount"}function clearLastNumberAcount(){"Enter Amount"===screenAcount.innerText&&(cptAcountNumber=0,screenAcount.innerText=""),--cptAcountNumber,screenAcount.innerText=screenAcount.innerText.toString().slice(0,-1),!screenAcount.innerText.includes(".")&&cpt>=2&&(cpt=0)}function addAcount(e){if(cptAcountNumber>=limiteAcountNumber||"."===e&&cptAcountNumber===limiteAcountNumber-1)return;"00"===e?cptAcountNumber+=2:++cptAcountNumber,firstOne&&(clearAcount(),firstOne=!1);let n=screenAcount.innerText.indexOf("."),a=-1!==n?screenAcount.innerText.length-n-1:0;(-1===n||!(a>=2))&&("Enter Amount"===screenAcount.innerText&&(screenAcount.innerText=""),screenAcount.classList.contains("text-slate-400")&&screenAcount.classList.remove("text-slate-400"),screenAcount.innerText+=e)}function getExchangeRate(){let e=document.getElementById("codeFrom").innerText,n=document.getElementById("codeTo").innerText,a=parseFloat(screenAcount.innerText);a=isNaN(a)||"Enter Acount"===a||""===a?1:a,convertBtn.disabled=!0,convertBtn.classList.remove("hover:tracking-widest","hover:shadow-lg"),priceFrom.innerText=separateThousands(a),priceTo.innerText="Getting exchange rate . . .";let t=`https://v6.exchangerate-api.com/v6/650d75f53f2810edfb265f21/latest/${e}`;fetch(t).then(e=>e.json()).then(e=>{let t=e.conversion_rates[n];priceTo.innerText=separateThousands((a*t).toFixed(2))}).catch(()=>{priceTo.innerText="Something went wrong"}),clearAcount(),convertBtn.disabled=!1,convertBtn.classList.add("hover:tracking-widest","hover:shadow-lg")}function updateToucheAcount(e){let n=["1","2","3","4","5","6","7","8","9","0",".","Delete","Enter","Escape","Backspace",];if("keydown"===e.type&&!n.includes(e.key))return;let a="keydown"===e.type?e.key:this.innerText;switch(a){case"Escape":case"C":clearAcount();break;case"Backspace":case"Delete":case"DEL":clearLastNumberAcount();break;case"Enter":case"Convert":getExchangeRate();break;default:addAcount(a)}}window.addEventListener("load",getExchangeRate),convert.addEventListener("keydown",updateToucheAcount),buttonConvert.forEach(e=>{e.addEventListener("click",updateToucheAcount)});let screen=document.getElementById("ecran1"),calculator=document.getElementById("calculator"),button=document.querySelectorAll("#calculator button");calculator.addEventListener("keydown",updateTouche),button.forEach(e=>{e.addEventListener("click",updateTouche)});let equals=!1,hasDecimal=!1;function addOperator(e){let n=screen.innerText.trim(),a=n[n.length-1];if("ERREUR SYNTAX"===n){clear();return}a&&(a.match(/[0-9]/)?(screen.innerText+=e,equals=!1):"*"===a&&"-"===e?(screen.innerText+=e,equals=!1):screen.innerText=n.slice(0,n.length-1)+e),hasDecimal=!1}function clear(){"ERREUR SYNTAX"===screen.innerText&&screen.classList.remove("text-red-600"),screen.innerText=""}function clearLastNumber(){"ERREUR SYNTAX"===screen.innerText&&screen.classList.remove("text-red-600"),screen.innerText=screen.innerText.toString().slice(0,-1)}function addNumber(e){equals&&(clear(),hasDecimal=!1),("."!==e||!hasDecimal)&&("."!==e||hasDecimal||(hasDecimal=!0),equals=!1,screen.innerText+=e)}function calculate(){let expression=screen.innerText;if(equals=!0,expression)try{let resultat=eval(expression);screen.innerText=resultat}catch(error){screen.classList.add("text-red-600"),screen.innerText="ERREUR SYNTAX"}}function updateTouche(e){let n=["1","2","3","4","5","6","7","8","9","0","+","-","*","/",".","Delete","Enter","Escape","Backspace",];if("keydown"===e.type&&!n.includes(e.key))return;let a="keydown"===e.type?e.key:this.innerText;switch(a){case"Escape":case"C":clear();break;case"Backspace":case"Delete":case"DEL":clearLastNumber();break;case"+":case"-":case"*":case"/":addOperator(a);break;case"Enter":case"=":calculate();break;default:addNumber(a)}}